# Java

## 목차
[1. 기본 개념](#기본-개념)

[2. jvm](#2-jvm)

[3. 연산자](#3-연산자)

[4. 조건문](#4-조건문)

[5. 반복문](#5-반복문)

[6. 배열](#6-배열)

[7. 복사](#7-복사)

## 1. 기본 개념

```
가상 머신 : 가상의 기기를 만들어주는 것
바이트 코드 : 운영체제가 읽을 수 있는 코드
Java 컴파일러 : java &rarr; class
인터프리터 : 운영체제가 읽은 바이트 코드 &rarr; 기계어
JIT 컴파일러 : 인터프리터 효율 &uarr;
메모리 영역 : Java 데이터 저장하는 영역(운영체제로부터 JVM이 할당받은 영역)
클래스 로더 : Java.class 바이트 코드를 메모리 영역에 저장
가비지 컬렉터 : Java 쓰레기 청소기(메모리 영역에서 안쓰는 데이터를 주기적으로 처리)
JRE(Java Runtime Environment) : 자바 실행 환경
 - Java프로그램을 실행`만` 시킬 수 있음
 - .class 파일만 실행 가능
JDK(Java Development Kit) : 자바 개발 키트
 - JRE의 기능을 포함함
 - .java파일을 .class파일로 변환하는 Java 컴파일러(javac) 기능이 있음
 - 코드 디버깅(jdb) 기능이 있음
```

## 2. JVM

- Java Virtual Machine의 약자로 `자바 가상 머신` 이라는 뜻

- 여러가지 기기에 Java 프로그램을 실행시킬 수 있는 가상의 기기를 만들어주는 것을 의미

![](/img/JVM_example.png)

**JVM에서 프로그램이 동작하는 흐름**

![](/img/JVM_program_work_flow.png)

JVM은 제일 먼저 클래스의 main 메서드를 실행시킨다.

## 변하는 것(변수), 변하지 않는 것(상수)

저장공간의 선언과 값의 저장

- 저장공간의 선언
    ```
    타입 이름;
    ex) Int number;
    ```
    - 자바 프로그램에서 값을 다루기 위해서는 저장공간의 선언이 필요
    - 선언 할 때는 위와같이 타입과 이름을 명시하여 선언
    - 값의 저장
        -   자바 프로그램에서 저장공간에 값을 저장하는 방법
            1. 선언과 동시에 저장 &rarr; 초기화<br/>
               `Int number = 10;`
            2. 선언 이후에 값을 저장 &rarr; 덮어쓰기<br/>
               `number = 10;`
- 변수 : 변하는 저장공간
    - 자바 프로그램에서 저장하는 대부분의 값 = 변수
    - 하나의 값을 저장할 수 있는 저장공간을 의미
    - 저장되는 값에 따라 여러 모습을 가짐
        ```
        int number = 10; // 1. 변수로 선언 및 초기화
        number = 11; // 2. 변수의 값 변경(덮어쓰기)
        ```
    - 기본형 변수 : 숫자, 문자, Boolean...
        - 논리형 변수 : boolean
            - True/False 값만 저장
        - 문자형 변수 : char
            - 'A', '1' 과 같은 문자 하나만 저장
        - 정수형 변수 : byte, short, int, long
            - 0,1,2,99와 같은 정수형 숫자값을 저장
            - 정수형 변수 표현 범위
                ```
                각 변수 표현 범위를 넘는 수를 넣으면 오버플로우가 발생, 해당 숫자를 출력하면 다른 값이 표현된다.
                ```
        - 실수형 변수 : float, double
            - 0.123, 0.99999와 같은 소수점 실수값 저장
            - 실수형 변수의 표현 범위
                ```
                정수와 동일하게 오버플로우 발생, 출력하면 다른 값 표현
                ```
                - float (4byte) : `3.4 * -10^38` ~ `3.4 * 10^38` 범위의 숫자 저장 가능 (부동, 고정 소수점)
                - double (8byte) : `1.7 * -10^308` ~ ` 1.7 * 10^308` 범위의 숫자 저장 가능 ()
    - 참조형 변수 : 별도로 저장한 주소 값을 참조해야하는 변수
        - 문자열 변수 : String
            - "Apple", "텍스트"와 같은 문장을 저장
                ```
                String message = "Hello World"; // 문자열 저장
                ```
        - 그 외 : Object, Array, List...
            - 객체, 배열, 리스트와 같은 단일 저장공간에 담을 수 없는 값을 저장
                ```
                List<int> alphabet = [0,1,2,3]; // 기본형 변수 여러개 저장
                ```
    - 래퍼 클래스 변수
        '기본형 변수를 클래스로 한 번 랩핑(감싸는) 변수'
        - 박싱 vs 언박싱
            - 박싱 : 기본타입 &rarr; 래퍼 클래스 변수 
            - 언박싱 : 래퍼 클래스 변수 &rarr; 기본 타입 변수
                ```
                // 박싱
                int number = 21;
                Integer num = new Integer(number);

                // 언박싱
                int n = num.intValue();
                ```

- 상수 : 변하지 않는 저장공간
    - 자바 프로그램에서는 변하지 않을 값을 변하지 않는 저장공간에 저장
    - 저장되는 값의 형태에 따라 여러 모습을 가짐

            ```
            final int number = 10; // 1. 상수로 선언 (데이터 타입 앞에 final)
            number = 11; // e2. 변수의 값을 바꾸려하면 에러
            ```

### 3. 연산자
- 연산자 : 계산의 목적이 되는 것
- 피연산자 : 계산의 대상이 되는 것
- 종류
    - |구분|종류|
        |:--:|:--|
        |산술 연산자|```+, -, *, /, %, <<, >>```|
        |비교 연산자|```>, <, >=, <=, ==, !=```|
        |논리 연산자|```&&, \|\|, !```|
        |대입 연산자|```=, ++, --```|
        |기타 연산자|```(type), ? :, instance of```|

    - 산술 연산자
        - ```+``` : 두 피연산자를 더함
        - ```-``` : 두 피연산자를 뺌
        - ```*``` : 두 피연산자를 곱함
        - ```/``` : 두 피연산자를 나눔
        - ```%``` : 좌변의 피연산자에서 우변의 피연산자를 나눴을 때 나머지를 구함
        - ```<<``` : 좌측 숫자의 비트를 우측의 숫자만큼 왼쪽으로 이동 [비트연산]
        - ```>>``` : 좌측 숫자의 비트를 우측의 숫자만큼 오른쪽으로 이동 [비트연산]
    - 비교 연산자
        - ```>``` : 좌변과 우변보다 크면 ```True```반환 반대인 경우는 ```False```반환
        - ```<``` : 우변이 좌변보다 크면 ```True```반환 반대인 경우는 ```False```반환
        - ```>=``` : 좌변과 우변보다 크거나 같으면 ```True```반환 반대인 경우는 ```False```반환
        - ```<=``` : 우변이 좌변보다 크거나 같으면 ```True```반환 반대인 경우는 ```False```반환
        - ```==``` : 좌변과 우변이 같으면 ```True```반환 반대인 경우는 ```False```반환
        - ```!=``` : 좌변과 우변이 다르면 ```True```반환 반대인 경우는 ```False```반환
    - 논리 연산자
        - ```&&``` : 좌변과 우변이 둘 다 ```True```인 경우 ```True```반환
        - ```||``` : 좌변과 우변 중 하나라도 ```True```인 경우 ```True``` 반환
        - ```!``` : 단일 피연산자가 ```True```인 경우 ```False```반환
    - 대입 연산자
        - 기본 대입 연산자
            - ```=``` : 우변의 값을 좌변의 변수에 대입
        - 복합 대입 연산자
            - ```+=``` : 좌변의 변수의 값에서 우변의 값을 더한 후 좌변의 변수에 대입 ```ex) number = number + 2```
            - ```-=``` : 좌변의 변수의 값에서 우변의 값을 뺀 후 좌변의 변수에 대입 ```ex) number = number - 2```
            - ```*=``` : 좌변의 변수의 값에서 우변의 값을 뺀 후 좌변의 변수에 대입 ```ex) number = number * 2```
            - ```/=``` : 좌변의 변수의 값에서 우변의 값을 뺀 후 좌변의 변수에 대입 ```ex) number = number / 2```
            - ```%=``` : 좌변의 변수의 값에서 우변의 값을 뺀 후 좌변의 변수에 대입 ```ex) number = number % 2```
        - ```++``` : 단일 피연산자에 1을 더한 후 대입 ```ex) number = number + 1```
        - ```--``` : 단일 피연산자에 1을 뺀 후 대입 ```ex) number= number - 1```
        - ```++```, ```--``` 사용 시 주의점
            ```
            int a = 10;
            int b = 10;
            int val = ++a + b--; // 21
            ```
            이 경우 아래와 같은 순서로 연산이 실행된다.
            1. a = 10
            2. b = 10
            3. ++a
            4. ++a + b
            5. val = ++a + b
            6. b--
    - 기타 연산자
        - 형변환 연산자 : 피연산자의 타입을 명시적으로 변경하는 연산자(연산 시 타입을 맞춰주기위해 사용)
            ```
            int intNumber = 93 + (int) 98.8; // 93 + 98
            ```
        - 삼항 연산자
            - 비교연산자와 항상 함께 쓰임
            - 비교연산자의 결과 : True or False
            - 조건 ? 참 : 거짓
            ```
            boolean b = (x == y) ? true : false;
            ```
        - instance of 연산 : 피연산자가 조건에 명시된 클래스의 객체인지 비교

    - 연산자 우선순위
        - 산술 > 비교 > 논리 > 대입
            ```
            ex
                int x = 2;
                int y = 9;
                int z = 10;

                boolean result = x < y && y < z;
                // 1. x > y
                // 2. y < z
                // 3. &&
                
                result = x + 10 < y && y < z;
                // 1. x + 10
                // 2. x + 10 < y
                // 3. y < z (사실 && 연산이기 때문에 2번이 false가 나온 시점에 4번 연산으로 넘어가서 false를 반환함)
                // 4. &&
            ```
    - 연산 전에 피연산자의 두 타입이 다른 경우 타입을 일치시켜야 함.(둘 중 저장공간의 크기가 더 큰 타입으로 일치)
    - 비트연산
        - 연산 속도가 가장 빠름
        - 비트를 왼쪽으로 1칸 옮기는 것 = 2를 곱하는 것
        - 비트를 오른쪽으로 1칸 옮기는 것 = 2를 나누는 것

## 4. 조건문
특정 조건에 따라 다른 연산을 수행하고 싶을 때 사용
- if
    - ```if(조건) {실행할 문장}```의 구조를 가지고 있다.
    - 조건이 참일경우 문장이 실행된다.
        ```
        // 조건문
        boolean flag = true;
        if (flag) {
            System.out.println("flag 값은 true 입니다."); // flag 값은 true 입니다. 출력
        }
        ```
    - if-else : 조건이 false일 경우 else구문이 실행되게 할 수 있다.
        ```
        // 조건문
        boolean flag = false;
        if (flag) {
            System.out.println("flag 값은 true 입니다.");
        } else {
            System.out.println("flag 값은 false 입니다."); // flag 값은 false 입니다. 출력
        }
        ```
    - if-else if-else : else if를 통해 추가 조건을 줄 수 있다.
        ```
        boolean flag = 85;
        if (flag < 90) {
            System.out.println("A");
        } else if (flag < 80) {
            System.out.println("B"); // B 출력
        } else {
            System.out.println("F");
        }
        ```
- switch
    - switch/case를 묶어서 사용하며 가독성이 좋음
    - ```switch(피연산자) { case(조건) : 연산 }```의 형태로 사용
    - 피연산자가 조건을 만족하면 ```case``` 뒤의 연산을 수행
    - ```case```는 여러개 설정 가능
        - 각 ```case```의 연산 뒤에는 ```break;```를 넣어야 함(넣지 않을 경우 이후의 case의 연산문까지 실행)
    - ```case (조건)```을 모두 만족하지 않을 경우에 연산을 지정하고 싶다면 ```default : 연산```을 가장 마지막에 작성
        ```
        // switch/case문
        int month = 8;
        String monthString = "";

        switch(month) {
            case 1: {
                monthString = "1월";
                break;
            }
            case 2: {
                monthString = "2월";
                break;
            }
            ...
            case 8: {
                monthString = "8월";
                break;
            }
            ...
            default: {
                monthString = "알 수 없음";
                break;
            }
        }
        ```
    
## 5. 반복문
특정 조건에 따라 **반복**해서 동일한 연산을 수행하고 싶을 때 사용
- for
    - ``` for(초기값; 조건문; 증가연산) { 연산 }```의 형태로 사용
    - 특정 조건은 초기값과 조건문을 통해 정의
    - 반복시 값을 증가시키려면 증가연산 정의
    - 초기값이 조건문을 만족할때까지 연산을 수해아며 회차마다 증가연산 수행
        ```
        for (int i = 0; i < 4; i++) {
            System.out.println(i);
        }
        // 출력
        0
        1
        2
        3
        ```
    - 향상된 for문
        ```
        int[] numbers = {1,3,5,7};
        for (int n: numbers) {
            System.out.println(n);
        }
        // 출력
        1
        3
        5
        7
        ```

- while
    - 초기값 없이 조건문만 명시하여 반복
    - ```while(조건문) { 연산 }```형태로 사용
    - 반복할 때마다 조건을 확인 후 false일 경우 중단
        ```
        int number = 0;
        while(number < 3) {
            number++;
            System.out.println(number);
        }
        // 출력
        0
        1
        2
        ```

    - do-while
        - ```do { 연산 } while(조건문)```형태로 사용
        - 1회 연산 후 더 반복할지 결정
            ```
            int number = 0;
            do {
                number++;
                System.out.println(number);
            }while(number < 3)
            // 출력
            1
            2
            3
            ```
- break
    - 가장 가까운 블록의 for문 또는 while, switch문을 중단할 때 사용
- continue
    - 다음 문장을 생략하고 다음 반복으로 넘어감

## 6. 배열
- 여러개의 변수를 모아서 저장하고 싶을때 주로 사용
- **자료구조**라는 이름으로 불림
- 선언
    - 방법 1. ```타입[] 변수``` ```ex)int[] arr;```
    - 방법 2. ```타입 변수[]``` ```ex)int arr[];```
- 생성
    - ```new``` 메서드를 통해 생성 ```[]```내부에 크기 지정 ```ex) int[] arr = new int[8];```
- 초기화
    - fill
        ```
        int[] arr = new int[8];
        Arrays.fill(arr, 1);
        for (int i: arr) {
            System.out.print(i);
        }
        // 출력
        11111111
        ```
- 다차원 배열
    - 1차원 배열
        
    - 2차원 배열
    
## 7. 복사
- 얕은 복사 : 주소값만 복사되고 실제 값은 한 개로 유지되는 복사
    - 배열 변수간에 대입 연산자를 사용해서 복사를 하면 주소값만 복사됨
    - 주소값만 복사했기 때문에 복사한 변수에서 변경이 발생시 원본 값도 변경됨
- 깊은 복사
    - 새로운 참조형 데이터를 똑같이 만들고 싶을 때 사용
    - 실제 값을 가지고 있는 배열의 기본형 값을 꺼내서 복사
        ```
        // 방법 1
        int[] a = {1,2,3,4};
        int[] b = new int[a.length];

        for(int i = 0; i< a.length; i++) {
            b[i] = a[i]; // 깊은 복사
        }

        // 방법 2
        int[] c = a.clone(); // 2차원이상 배열에서는 얕은 복사로 동작

        // 방법 3
        int[] d = Arrays.copyOf(a, a.length);
        ```
